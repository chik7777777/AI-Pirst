import streamlit as st
import folium
from streamlit_folium import st_folium

st.set_page_config(page_title="ì„œìš¸ ê´€ê´‘ì§€ë„ ğŸŒ", layout="wide")

st.title("ğŸŒ¸ ì™¸êµ­ì¸ë“¤ì´ ì¢‹ì•„í•˜ëŠ” ì„œìš¸ ê´€ê´‘ì§€ TOP 10")
st.write("ì§€ë„ë¥¼ í´ë¦­í•´ ê´€ê´‘ì§€ ì •ë³´ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”!")

# ê´€ê´‘ì§€ ë°ì´í„°
locations = [
    {"name": "ê²½ë³µê¶", "lat": 37.579617, "lon": 126.977041, "desc": "ì¡°ì„  ì™•ì¡°ì˜ ì¤‘ì‹¬ ê¶ê¶ë¡œ, í•œêµ­ ì „í†µ ê±´ì¶•ì˜ ì •ìˆ˜ë¥¼ ëŠë‚„ ìˆ˜ ìˆëŠ” ê³³ì´ì—ìš”.", "station": "ê²½ë³µê¶ì—­ (3í˜¸ì„ )"},
    {"name": "ëª…ë™", "lat": 37.563757, "lon": 126.982705, "desc": "ì‡¼í•‘, ê¸¸ê±°ë¦¬ ìŒì‹, K-ë·°í‹°ë¡œ ì™¸êµ­ì¸ ê´€ê´‘ê°ë“¤ì—ê²Œ ê°€ì¥ ì¸ê¸° ë§ì€ ê±°ë¦¬ì˜ˆìš”.", "station": "ëª…ë™ì—­ (4í˜¸ì„ )"},
    {"name": "ë‚¨ì‚°íƒ€ì›Œ (Nì„œìš¸íƒ€ì›Œ)", "lat": 37.551169, "lon": 126.988227, "desc": "ì„œìš¸ì˜ ëœë“œë§ˆí¬ì´ì ì•¼ê²½ ëª…ì†Œë¡œ, ì‚¬ë‘ì˜ ìë¬¼ì‡ ë¡œë„ ìœ ëª…í•´ìš”.", "station": "ëª…ë™ì—­ (4í˜¸ì„ )"},
    {"name": "í™ëŒ€ê±°ë¦¬", "lat": 37.556332, "lon": 126.923611, "desc": "ì ŠìŒê³¼ ì˜ˆìˆ , ë²„ìŠ¤í‚¹ê³¼ í´ëŸ½ ë¬¸í™”ê°€ ì–´ìš°ëŸ¬ì§„ íŠ¸ë Œë””í•œ ê±°ë¦¬ì˜ˆìš”.", "station": "í™ëŒ€ì…êµ¬ì—­ (2í˜¸ì„ , ê²½ì˜ì¤‘ì•™ì„ )"},
    {"name": "ë¶ì´Œ í•œì˜¥ë§ˆì„", "lat": 37.582604, "lon": 126.983998, "desc": "ì „í†µ í•œì˜¥ì´ ì•„ë¦„ë‹µê²Œ ë³´ì¡´ëœ ì„œìš¸ì˜ ëŒ€í‘œì ì¸ ì „í†µ ë§ˆì„ì´ì—ìš”.", "station": "ì•ˆêµ­ì—­ (3í˜¸ì„ )"},
    {"name": "ì¸ì‚¬ë™", "lat": 37.574017, "lon": 126.985759, "desc": "ì „í†µ ì°»ì§‘, ê°¤ëŸ¬ë¦¬, ê¸°ë…í’ˆ ê°€ê²Œê°€ ì¦ë¹„í•œ í•œêµ­ ì „í†µ ê±°ë¦¬ì˜ˆìš”.", "station": "ì¢…ë¡œ3ê°€ì—­ (1Â·3Â·5í˜¸ì„ )"},
    {"name": "ë™ëŒ€ë¬¸ ë””ìì¸ í”Œë¼ì (DDP)", "lat": 37.566541, "lon": 127.009155, "desc": "ë¯¸ë˜ì ì¸ ê±´ì¶•ê³¼ íŒ¨ì…˜ì‡¼ë¡œ ìœ ëª…í•œ ì„œìš¸ì˜ ë””ìì¸ í—ˆë¸Œì˜ˆìš”.", "station": "ë™ëŒ€ë¬¸ì—­ì‚¬ë¬¸í™”ê³µì›ì—­ (2Â·4Â·5í˜¸ì„ )"},
    {"name": "ë¡¯ë°ì›”ë“œ", "lat": 37.511011, "lon": 127.098165, "desc": "ì‹¤ë‚´ì™¸ ë†€ì´ì‹œì„¤ê³¼ ì‡¼í•‘ëª°ì´ í•¨ê»˜ ìˆëŠ” ë„ì‹¬í˜• í…Œë§ˆíŒŒí¬ì˜ˆìš”.", "station": "ì ì‹¤ì—­ (2Â·8í˜¸ì„ )"},
    {"name": "ì ì‹¤ ë¡¯ë°íƒ€ì›Œ", "lat": 37.513068, "lon": 127.102493, "desc": "ì„¸ê³„ 5ìœ„ ë†’ì´ì˜ ì´ˆê³ ì¸µ ë¹Œë”©ìœ¼ë¡œ, ì „ë§ëŒ€ì—ì„œ ì„œìš¸ ì „ê²½ì„ ë³¼ ìˆ˜ ìˆì–´ìš”.", "station": "ì ì‹¤ì—­ (2Â·8í˜¸ì„ )"},
    {"name": "ì²­ê³„ì²œ", "lat": 37.570207, "lon": 126.978134, "desc": "ë„ì‹¬ ì† íë§ ì‚°ì±…ë¡œë¡œ, ì„œìš¸ì˜ ì—­ì‚¬ì™€ í˜„ëŒ€ê°€ ì–´ìš°ëŸ¬ì§„ ê³³ì´ì—ìš”.", "station": "ê´‘í™”ë¬¸ì—­ (5í˜¸ì„ )"}
]

# ì§€ë„ ìƒì„±
m = folium.Map(location=[37.5665, 126.9780], zoom_start=12)

# ë§ˆì»¤ ìƒ‰ìƒ ìˆœí™˜ìš© ë¦¬ìŠ¤íŠ¸
colors = ["red", "blue", "green", "purple", "orange", "cadetblue", "darkred", "darkgreen", "lightgray", "pink"]

# ê´€ê´‘ì§€ ë§ˆì»¤ ì¶”ê°€
for i, place in enumerate(locations):
    folium.Marker(
        location=[place["lat"], place["lon"]],
        popup=place["name"],
        tooltip=f"ğŸ“ {place['name']}",
        icon=folium.Icon(color=colors[i % len(colors)], icon="star")
    ).add_to(m)

# ì§€ë„ ì¶œë ¥ ë° í´ë¦­ ê²°ê³¼ ë°›ê¸°
st_data = st_folium(m, width=750, height=500)

# í´ë¦­ëœ ê´€ê´‘ì§€ ì´ë¦„ ê°€ì ¸ì˜¤ê¸°
clicked_name = None
if st_data and st_data.get("last_object_clicked_popup"):
    clicked_name = st_data["last_object_clicked_popup"]

# ì„ íƒëœ ê´€ê´‘ì§€ í‘œì‹œ
if clicked_name:
    place = next((p for p in locations if p["name"] == clicked_name), None)
    if place:
        st.subheader(f"ğŸ“ {place['name']}")
        st.markdown(f"ğŸ“ **ì†Œê°œ:** {place['desc']}")
        st.markdown(f"ğŸš‡ **ê°€ê¹Œìš´ ì§€í•˜ì² ì—­:** {place['station']}")
else:
    st.info("ì§€ë„ì˜ ë§ˆì»¤ë¥¼ í´ë¦­í•˜ë©´ ê´€ê´‘ì§€ ì •ë³´ë¥¼ ë³¼ ìˆ˜ ìˆì–´ìš”! ğŸ—ºï¸")

st.caption("ğŸ“ ë°ì´í„° ì¶œì²˜: VisitSeoul, TripAdvisor, Google Maps ê¸°ì¤€")
